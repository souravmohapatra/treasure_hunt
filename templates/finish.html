{% extends "base.html" %}

{% block title %}Finish{% endblock %}

{% block content %}
  <div class="row justify-content-center">
    <div class="col-12 col-lg-10 col-xl-8 text-center">
      <div class="py-4">
        <h1 class="display-5 mb-3">You finished! ðŸŽ‰</h1>
        <p class="lead mb-4">
          Great job making it through all the clues.
        </p>
        <p class="text-muted mb-4">
          Scoring + results arrive in Step 2.
        </p>
        <div class="d-flex justify-content-center gap-2">
          <a href="{{ url_for('leaderboard') }}" class="btn btn-primary btn-lg">
            View Leaderboard
          </a>
          <a href="{{ url_for('index') }}" class="btn btn-outline-secondary btn-lg">
            Back to Home
          </a>
        </div>
      </div>
    </div>
  </div>
{% endblock %}

{% block scripts %}
  <!-- Confetti celebration -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
  <script>
    (function () {
      try {
        var count = 150;
        var defaults = { origin: { y: 0.6 } };

        function fire(particleRatio, opts) {
          confetti(Object.assign({}, defaults, opts, {
            particleCount: Math.floor(count * particleRatio)
          }));
        }

        // A couple of lightweight bursts
        fire(0.25, { spread: 26, startVelocity: 55 });
        fire(0.2, { spread: 60 });
        fire(0.35, { spread: 100, decay: 0.91, scalar: 0.8 });
        fire(0.1, { spread: 120, startVelocity: 25, decay: 0.92, scalar: 1.2 });
        fire(0.1, { spread: 120, startVelocity: 45 });
      } catch (e) {
        // no-op if confetti lib fails to load
      }
    })();
  </script>
{% endblock %}
