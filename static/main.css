/* Treasure Hunt - Stylesheet
   Purpose: light spacing utilities, pastel theme variables, dark mode, table wrapping, and mobile polish.
   This project primarily uses Bootstrap; keep custom CSS minimal and complementary.
*/

/* ---------------------------------------
   Pastel theme variables (light + dark)
   --------------------------------------- */
:root {
    --bg: #f8fafc; /* soft off-white */
    --card: #ffffff;
    --text: #1f2937; /* slate-800 */
    --muted: #6b7280; /* slate-500 */
    --primary: #89c2d9; /* pastel blue */
    --primary-contrast: #0b2530;
    --accent: #c7f0bd; /* pastel green */
    --accent-2: #f7c3d0; /* pastel pink */
    --hint: #fff3cd; /* soft amber */
    --border: #e5e7eb;
}

[data-theme="dark"] {
    color-scheme: dark;
    --bg: #0e141b;
    --card: #111927;
    --text: #e5e7eb;
    --muted: #9aa4b2;
    --primary: #6fb3c9;
    --primary-contrast: #07161b;
    --accent: #97d58a;
    --accent-2: #e9a8b8;
    --hint: #3a2f17;
    --border: #223042;
}

/* Base colors */
html,
body {
    scroll-behavior: smooth;
}
body {
    background: var(--bg);
    color: var(--text);
}

/* Cards, tables, modals follow card background */
.card,
.table,
.modal-content {
    background: var(--card);
}

/* Primary button tint */
.btn-primary {
    background-color: var(--primary);
    border-color: var(--primary);
    color: var(--primary-contrast);
}
.btn-primary:hover,
.btn-primary:focus {
    filter: brightness(0.95);
}

/* Utility tokens */
.helper-text {
    /* legacy helper */
    color: rgba(0, 0, 0, 0.55);
    font-size: 0.875rem;
}
.muted {
    color: var(--muted);
}
.pastel-border {
    border: 1px solid var(--border);
    border-radius: 0.5rem;
}
.badge-hint {
    background: var(--hint);
    color: var(--text);
}

/* Spacing utilities (minimal) */
.section-spacer {
    margin-top: 1.5rem;
    margin-bottom: 1.5rem;
}
.block-spacer {
    height: 1rem;
}

/* Subtle card polish (optional, complements Bootstrap) */
.card.shadow-sm {
    border-radius: 0.5rem;
}

/* Footer subtlety */
footer .small {
    opacity: 0.9;
}

/* ---------------------------------------
   Tables: wrapping & responsive behavior
   --------------------------------------- */
.table-responsive {
    overflow-x: auto;
}
.table td,
.table th {
    white-space: normal; /* allow wraps */
    overflow-wrap: anywhere; /* break long words/URLs */
    word-break: break-word; /* fallback */
}
.cell-constrain {
    max-width: 28rem; /* constrain very wide cells */
}
.table thead th {
    text-overflow: ellipsis;
    overflow: hidden;
    white-space: nowrap;
}

/* ---------------------------------------
   Dark mode additional tints (using variables)
   --------------------------------------- */
[data-theme="dark"] .navbar.navbar-dark {
    background-color: #1f1f1f !important;
}
[data-theme="dark"] .alert-warning {
    background-color: var(--hint);
    color: var(--text);
    border-color: var(--border);
}
[data-theme="dark"] .btn-outline-secondary,
[data-theme="dark"] .btn-outline-info,
[data-theme="dark"] .btn-outline-warning {
    color: var(--text);
    border-color: #888;
}
[data-theme="dark"] .btn-outline-secondary:hover,
[data-theme="dark"] .btn-outline-info:hover,
[data-theme="dark"] .btn-outline-warning:hover {
    background-color: #2a2a2a;
    color: #fff;
    border-color: #aaa;
}
[data-theme="dark"] .progress {
    background-color: #2a2a2a;
}
[data-theme="dark"] .progress-bar {
    background-color: #0d6efd;
}

/* Wrapping utility for long URLs and tokens */
.wrap-text {
    white-space: normal;
    overflow-wrap: anywhere;
    word-break: break-word;
}

/* ---------------------------------------
   Mobile touch targets and spacing tweaks
   --------------------------------------- */

/* Slightly taller progress bar for touch */
.progress {
    height: 1rem;
}

/* Ensure large buttons have comfortable padding */
.btn-lg {
    padding: 0.75rem 1.25rem;
}

/* Improve tap targets on small screens */
@media (max-width: 576px) {
    .btn {
        min-height: 44px; /* recommended minimum tap target */
    }
    .form-control,
    .form-select {
        min-height: 44px;
    }
    .form-control-lg,
    .btn-lg {
        min-height: 48px;
    }
    .container,
    .container-fluid {
        padding-left: 1rem;
        padding-right: 1rem;
    }
    .my-3 {
        margin-top: 1rem !important;
        margin-bottom: 1rem !important;
    }
    .py-3 {
        padding-top: 1rem !important;
        padding-bottom: 1rem !important;
    }
}

/* --- Hero / Gradient --- */
.hero-wrap {
    min-height: 100vh;
    position: relative;
}
.hero-gradient {
    position: absolute;
    inset: 0;
    background:
        radial-gradient(
            1200px 800px at 20% 20%,
            var(--accent) 0%,
            transparent 60%
        ),
        radial-gradient(
            1000px 700px at 80% 30%,
            var(--accent-2) 0%,
            transparent 60%
        ),
        radial-gradient(
            900px 700px at 50% 80%,
            var(--primary) 0%,
            transparent 60%
        ),
        linear-gradient(180deg, var(--bg) 0%, var(--card) 100%);
    filter: saturate(1.05);
    animation: hueShift 18s ease-in-out infinite alternate;
    z-index: 0;
}
@keyframes hueShift {
    0% {
        filter: hue-rotate(0deg) saturate(1.05);
    }
    100% {
        filter: hue-rotate(12deg) saturate(1.1);
    }
}
@media (prefers-reduced-motion: reduce) {
    .hero-gradient {
        animation: none;
    }
}

/* --- Floating shapes --- */
.floating-shapes {
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 1;
}
.shape {
    position: absolute;
    width: 140px;
    height: 140px;
    border-radius: 24px;
    opacity: 0.2;
    background: var(--primary);
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
    animation: floatY 12s ease-in-out infinite;
}
.shape.s1 {
    top: 15%;
    left: 10%;
}
.shape.s2 {
    top: 65%;
    left: 75%;
    background: var(--accent);
    animation-duration: 16s;
}
.shape.s3 {
    top: 25%;
    left: 60%;
    background: var(--accent-2);
    animation-duration: 14s;
}
@keyframes floatY {
    0%,
    100% {
        transform: translateY(-8px);
    }
    50% {
        transform: translateY(8px);
    }
}
@media (prefers-reduced-motion: reduce) {
    .shape {
        animation: none;
    }
}

/* --- Glass card --- */
.glassy {
    background: color-mix(in srgb, var(--card) 70%, transparent);
    backdrop-filter: blur(8px);
    border: 1px solid color-mix(in srgb, var(--border) 60%, transparent);
    border-radius: 1rem;
}
.hero-title {
    letter-spacing: 0.3px;
}
.hero-cta {
    padding-inline: 1.25rem;
}

/* --- Join sheet (slide-up overlay for JS users) --- */
.join-sheet {
    position: relative;
    transition:
        transform 0.6s cubic-bezier(0.22, 1, 0.36, 1),
        opacity 0.4s ease;
}
.join-sheet.sheet-overlay {
    position: fixed;
    left: 0;
    right: 0;
    bottom: 0;
    background: var(--card);
    border-top-left-radius: 1.25rem;
    border-top-right-radius: 1.25rem;
    box-shadow: 0 -12px 40px rgba(0, 0, 0, 0.16);
    transform: translateY(100%);
    opacity: 0;
    z-index: 20;
}
.join-sheet.sheet-visible {
    transform: translateY(0);
    opacity: 1;
}
/* keep anchor target spacing for no-JS fallback */
#join:target {
    scroll-margin-top: 20vh;
}
